  <!DOCTYPE html>
  <html>

  <head>

    <link href="https://file.myfontastic.com/LhAGUMb2vsheRHcVhrdxeU/icons.css" rel="stylesheet">


    
    <script src="js/helper.js"></script>
    <script src="node_modules/socket.io-client/dist/socket.io.js"></script>
    

    <script src="js/video.js"></script>
    
    <script src="js/terminal.js"></script>
    <script src="js/read.js"></script>
    <script src="js/write.js"></script>
    <script src="js/concatenate.js"></script>
    <script src="js/relation.js"></script>

    <script src="js/text.js"></script>
    <script src="js/image.js"></script>

    <script src="js/emitter.js"></script>

    <style>


      body {

        height: 100%;
        position: absolute;
        width: 100%;

        margin:0;
        padding:0;
        overflow:hidden;
      }
        
        #root {
            
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0px;
            left: 0px;
            box-sizing: content-box;

        }

        #menu {

            position: absolute;
            bottom: 0px;
        }

        #root video {

            width:100%;
            height:100%;
            top:0px;


        }
    </style>





    <script src="js/mediator.js"></script>

    <script>
        
          var socket = io('http://localhost:8080/');





          socket.on('connected', function (data) {
            	
            	console.log("connected");
            	var terminal = new Terminal();

              
          });

          var elements = {
            'Video' : Video,
            'Image' : Image
          }
          
          socket.on('play', function (data) {

            console.log(data);

            console.log('play');

            var valid = false;

            for(var i in elements) {

                if(elements[i].validate(data)) {

                    var element =  new elements[i](data);

                    valid = true;

                    element.run();

                    element.once('resolve', function() {

                        console.log('resolved');

                        socket.emit('resolve');

                    });

                    break;
                }

            }

            if(valid == false) {

                socket.emit('resolve');
            }






        });

    </script>



  </head>



  <body>





  </body>


  <!--<script src="public/bundle.js"></script>-->
    
  </html>
